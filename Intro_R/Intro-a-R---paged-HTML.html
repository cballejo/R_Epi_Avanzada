<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width">
<meta property="og:title" content="Introducción a R" />






<meta name="description" content="Introducción a R">

<script id="pandoc-meta" type="application/json">
{"newpage_html_class":"page-break-after","date":"","output":{"pagedown::html_paged":{"self_contained":null,"toc":"true","css":["default-fonts","default-page","default"],"links-to-footnotes":"true","number_sections":null}},"author":"","title":"Introducción a R","editor_options":{"markdown":{"wrap":"72"}}}
</script>

<title>Introducción a R</title>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function() {
  // Retrieve previous config object if defined
  window.PagedConfig = window.PagedConfig || {};
  let beforePaged = PagedConfig.before;
  window.PagedConfig.before = async () => {
    if (beforePaged) await beforePaged();
    return new Promise((resolve, reject) => {
      var script = document.createElement("script");
      script.type = "text/javascript";
      var src = `https://mathjax.rstudio.com/latest/MathJax.js` + "?config=TeX-MML-AM_CHTML";
      if (location.protocol !== "file:" && /^https?:/.test(src))
        src = src.replace(/^https?:/, '');
      script.src = src;
      window.MathJax = {
        AuthorInit: () => {
          MathJax.Hub.Register.StartupHook("Begin", () => {
            MathJax.Hub.Queue(resolve);
          });
        }
      };
      document.getElementsByTagName("head")[0].appendChild(script);
    });
  };
})();
</script>

<script src="Intro-a-R---paged-HTML_files/header-attrs-2.7/header-attrs.js"></script>
<link href="Intro-a-R---paged-HTML_files/paged-0.13/css/default-fonts.css" rel="stylesheet" />
<link href="Intro-a-R---paged-HTML_files/paged-0.13/css/default-page.css" rel="stylesheet" />
<link href="Intro-a-R---paged-HTML_files/paged-0.13/css/default.css" rel="stylesheet" />
<script src="Intro-a-R---paged-HTML_files/paged-0.13/js/config.js"></script>
<script src="Intro-a-R---paged-HTML_files/paged-0.13/js/paged.js"></script>
<script src="Intro-a-R---paged-HTML_files/paged-0.13/js/hooks.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



</head>

<body>

<div class="running-h1-title"></div>

<div class="running-h2-title"></div>



<div class="front-page">
<div id="header" class="title-page">
<h1 class="title">Introducción a R</h1>
<h2 class="author"></h2>
</div>
</div>

<div class="front-matter-container">
<div id="TOC" class="level1 toc front-matter">
<ul>
<li><a href="#qué-es-r">Qué es R?</a></li>
<li><a href="#historia-del-lenguaje">Historia del lenguaje</a></li>
<li><a href="#scripts">Scripts</a></li>
<li><a href="#funciones">Funciones</a></li>
<li><a href="#librerías-paquetes">Librerías (paquetes)</a></li>
<li><a href="#objetos">Objetos</a></li>
<li><a href="#estructuras-de-datos">Estructuras de datos</a></li>
<li><a href="#operadores-en-r">Operadores en R</a></li>
<li><a href="#valores-especiales-en-r">Valores especiales en R</a></li>
<li><a href="#secuencias-regulares">Secuencias regulares</a></li>
<li><a href="#índices">Índices</a></li>
<li><a href="#gestión-de-factores">Gestión de factores</a></li>
<li><a href="#gestión-de-matrices">Gestión de matrices</a></li>
<li><a href="#gestión-de-dataframes">Gestión de dataframes</a></li>
<li><a href="#selecciones">Selecciones</a></li>
<li><a href="#lectura-de-archivos">Lectura de archivos</a></li>
<li><a href="#estadística-descriptiva">Estadística descriptiva</a></li>
<li><a href="#consideraciones-finales">Consideraciones finales</a></li>
<li><a href="#fórmulas">Fórmulas</a></li>
</ul>
</div>
</div>

<div class="main">
<div id="qué-es-r" class="section level1">
<h1>Qué es R?</h1>
<p>El sitio oficial <strong><em>r-project.org</em></strong><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> dice que <em>“R es un entorno de software libre para gráficos y computación estadística. Se compila y se ejecuta en una amplia variedad de plataformas UNIX, Windows y MacOS.”.</em></p>
<p>Profundizando en su descripción podemos decir, más técnicamente, que es un <strong><em>lenguaje de programación interpretado, orientado a objetos, multiplataforma y open source aplicado al manejo de datos estadísticos.</em></strong></p>
<p>A continuación detallamos cada parte de la definición:</p>
<p><strong>R es un lenguaje de programación estadístico</strong></p>
<p>Si bien posee un entorno y se puede utilizar como calculadora avanzada o
para simulación, no deja de ser elementalmente un lenguaje de
programación, con sus estructuras y reglas de sintaxis, que posee una
gran variedad de funciones desarrolladas con fines estadísticos.</p>
<p><strong>R es un lenguaje Orientado a Objetos</strong></p>
<p>Implementa los conceptos de la programación orientada a objetos y esto
le permite ofrecer simpleza y flexibilidad en el manejo de datos. En R
todo con lo que trabajamos son objetos: las variables, funciones, datos,
resultados, etc. que pueden ser modificados por otros objetos</p>
<p><strong>R es un lenguaje interpretado</strong></p>
<p>No es necesario compilar los scripts de programación para construir
ejecutables sino que directamente se ejecutan por medio del intérprete
que R instala y devuelve resultados de forma inmediata.</p>
<p><strong>R es multiplataforma (corre en Linux, Windows y Mac)</strong></p>
<p>Se puede instalar en diferentes sistemas operativos como Linux, Windows
y Mac. En todos ellos funciona de la misma manera, es decir que nuestros
scripts pueden correr en cualquier plataforma sin cambiar nada de ellos.</p>
<p><strong>R es Open Source y se distribuye bajo licencia GNU - GPL</strong></p>
<p>Esto quiere decir que se distribuye gratuitamente bajo licencia GNU
(General Public License) – GPL y que los usuarios tienen la libertad de
usar, estudiar, compartir (copiar) y modificar el software.</p>
</div>
<div id="historia-del-lenguaje" class="section level1">
<h1>Historia del lenguaje</h1>
<p>R es un sistema que fue desarrollado a partir del lenguaje S que a su
vez tiene sus orígenes en Bell Labs de la AT&amp;T (actualmente Lucent
Technologies) de mediados de la década del ’70. Posteriormente, S fue
vendido y dio origen a una versión propietaria denominada S-Plus que es
comercializada por Insighful Corporation.</p>
<p>En 1995 dos profesores de estadística de la Universidad de Auckland, en
Nueva Zelanda <strong>Ross Ihaka</strong><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> y <strong>Robert Gentleman</strong><a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>, iniciaron el <strong>“Proyecto
R”</strong><a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>, con la intención de desarrollar un programa estadístico inspirado
en el lenguaje S pero de dominio público.</p>
<p>Aunque se dice que R es un dialecto de S existen diferencias importantes
en el diseño de ambos lenguajes.</p>
<p>El software está desarrollado en lenguaje C++ con algunas rutinas
agregadas en Fortran) y su nombre se debe a la letra con la que inician
los nombres de pila de sus autores (Ross y Robert).</p>
<p>Actualmente R es mantenido por un grupo internacional de desarrolladores
voluntarios denominado <strong>Core Development Team</strong>.</p>
</div>
<div id="scripts" class="section level1">
<h1>Scripts</h1>
<p>Un script es un archivo de texto plano con una lista secuencial de
funciones y comandos del lenguaje R para ser ejecutado por el intérprete
de R.</p>
<p>Script se puede traducir como guión, archivo de órdenes, archivo de
procesamiento por lotes o archivo de sintaxis.</p>
<p>Generalmente se crea en editores especiales y/o en cualquier software
para generar texto. Se almacena en un archivo que puede ser leído,
modificado, guardado y se puede ejecutar completo o línea a línea.</p>
<p>Poseen una cualidad muy provechosa: son re-utilizables, adaptándolos a
otra situación.</p>
<p><strong>Características de los scripts de R:</strong></p>
<p>R posee una sintaxis textual y como cualquier lenguaje de programación
es precisa.</p>
<p>La exactitud en la escritura de comandos y funciones incluye la
distinción entre mayúsculas y minúsculas. (se dice entonces que es case
sensitive)</p>
<p>Todas las líneas de R comienzan con el prompt (*) <code>&gt;</code></p>
<p>* <em>Símbolo que aparece en la pantalla de la computadora indicando que
el sistema está esperando información del usuario o que el sistema
está listo para recibir instrucciones del usuario</em>.</p>
<p>Para separar expresiones en la misma línea se puede utilizar el símbolo
<code>;</code> (punto y coma)</p>
<p><strong>Documentación de los scripts de R:</strong></p>
<p>La documentación es una tarea de mucha importancia en cualquier lenguaje
de programación, ya que nos permite entender que estamos haciendo en el
script, también nos sirve para el futuro mantenimiento o para la
reutilización del código elaborado, tanto para otros usuarios como para
nosotros mismos.</p>
<p>La forma de documentar los scripts de código en R es utilizando
comentarios. Toda línea que comienza con el símbolo <code>#</code> es entendido por
el interprete como un comentario y los caracteres que sigan a ese
símbolo no sean tenidos en cuenta cuando se ejecute ese código.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># esto es una línea de comentario y no es </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># tenida en cuenta por el intérprete</span></span></code></pre></div>
<p>Así que a la hora de documentar es preferible abusar de estos
comentarios que no utilizarlos.</p>
</div>
<div id="funciones" class="section level1">
<h1>Funciones</h1>
<p>Los comandos u órdenes elementales de R son funciones construidas en
lenguaje C, otras provienen del Fortran y también existen muchas
escritas en el mismo lenguaje R.</p>
<p>Algunas de estas funciones se las llama “integradas” porque están
incluidas en el núcleo (core) del software R y sus nombres están
reservados.</p>
<p>La mayoría de las ofrecidas en los paquetes (librerías) están elaboradas
con R, dado que todos los usuarios podemos crear nuevas funciones con el
mismo lenguaje.</p>
<p>Toda función tiene un nombre y normalmente recibe argumentos o
parámetros que deben ser escritos <strong>entre paréntesis y separados por
comas</strong>. Incluso algunas de ellas que no tienen asociado argumentos
necesitan, en su sintaxis, a los paréntesis <code>()</code>.</p>
<p>Siempre una función devuelve un resultado, un valor o realiza una
acción.</p>
<p><img src="funciones.JPG" /></p>
</div>
<div id="librerías-paquetes" class="section level1">
<h1>Librerías (paquetes)</h1>
<p>Las librerías son grupos de funciones empaquetados que se pueden
instalar y utilizar en el análisis de datos. Habitualmente se agrupan
por tema o similitud de funciones.</p>
<p>Estos paquetes se pueden descargar directamente del repositorio oficial
de CRAN en Internet (similar al uso de los repositorios de Linux) o bien
descargar en formato .zip para luego instalar y usar.</p>
<p>Se pueden activar y desactivar en cualquier momento del análisis.</p>
<p>Algunos poseen dependencias de otros paquetes que serán necesarios para
que funcione.</p>
<p>Cualquier usuario puede crear paquetes de funciones y compartirlos,
aunque requerirá para esto de un manejo avanzado del software.</p>
<div class="page-break-after"></div>
</div>
<div id="objetos" class="section level1">
<h1>Objetos</h1>
<p>El que sea un lenguaje orientado a objetos nos lleva a entender la
lógica de funcionamiento pensada dentro de ese modelo de abstracción.</p>
<p>Podemos decir que todo con lo que trabaja R son objetos, y en esto
incluimos a las variables, los datos, las funciones, los resultados,
etc.</p>
<p>No vamos a profundizar en el tema pero necesitamos incorporar la idea y
el lenguaje cuando nos referimos a un objeto.</p>
<p><strong>Asignación</strong></p>
<p>Un grupos de objetos que veremos a continuación son las estructuras de
datos. Vamos a pensar a estas estructuras como “recipientes” con
determinada forma que van a contener valores (datos).</p>
<p>La forma de asignar los valores a estas estructuras es mediante el
símbolo <code>&lt;-</code> (si la asignación va de derecha a izquierda), <code>-&gt;</code> (si la
asignación va de izquierda a derecha) o bien con un <code>=</code> (aunque nosotros
preferimos no utilizarlo para asignaciones).</p>
<p>Veamoslo en un ejemplo:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="ot">-&gt;</span> b</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>c <span class="ot">=</span> <span class="dv">3</span></span></code></pre></div>
<p>En este caso asignamos el valor 1 al objeto <code>a</code>, el valor 2 al objeto
<code>b</code> y el valor 3 al objeto <code>c</code></p>
<p>Si llamasemos a cada objeto, el interprete nos devuelve el valor
guardado por cada uno de ellos.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>c</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Observemos que además de devolvernos los valores para cada uno de los
objetos aparece delante un 1 entre corchetes <code>[1]</code>.Este número es la
ubicación o índice del comienzo del objeto, que para este caso tiene una
sola posición. (veremos este tema más adelante en tema <strong>indexación</strong>)</p>
</div>
<div id="estructuras-de-datos" class="section level1">
<h1>Estructuras de datos</h1>
<p>Los objetos <em>contenedores de datos</em> más simples pertenecen a <strong>cinco
clases</strong> que se denominan <em>atómicas</em> y que son los siguientes tipos de
datos:</p>
<ul>
<li>integer (números enteros)</li>
<li>numeric (números reales)</li>
<li>complex (números complejos)</li>
<li>chacacter (cadena de caracteres)</li>
<li>logical (lógicos o booleanos – toman valores por si o no)</li>
</ul>
<p><img src="tipo_datos.JPG" /></p>
<p>Sin embargo, cada una de estas clases de datos no se encuentran de
manera aislada, sino encapsulados dentro de la clase de objeto
operacional más básica del lenguaje a la que se denomina <strong>vector</strong>.</p>
<p><strong>Vector</strong></p>
<p>Un vector es un conjunto de valores (números o símbolos), todos del
mismo tipo ordenados de la forma (elemento 1, elemento 2, … , elemento
<span class="math inline">\(n\)</span>) y <span class="math inline">\(n\)</span> es la longitud o tamaño del vector.</p>
<p>Surge de la definición dos términos importantes: el tipo y la longitud.</p>
<p>Todos los objetos de datos tienen estos dos atributos intrínsecos.</p>
<ul>
<li>el tipo, que puede ser integer, numeric, chacacter, complex y
logical</li>
<li>la longitud, que es el número de elementos que contiene el objeto.</li>
</ul>
<p>El vector más simple es el que contiene un dato, podría ser numérico de
un solo dígito. El tipo sería numeric y la longitud 1.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>vec1</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Otro vector más grande por ejemplo podría ser (1,5,2). En este caso
también es del tipo numeric pero tiene una longitud de 3 elementos (3
posiciones que integran el vector).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="dv">2</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>vec2</span></code></pre></div>
<pre><code>## [1] 1 5 2</code></pre>
<p>Como vemos, para concatenar estos tres valores numéricos usamos la forma
<code>c()</code>. Esta <code>c</code> es una función de R, justamente para concatenar. (todo
lo que aparece siempre antes de paréntesis es una función). Dentro de la
función los valores van separados por comas.</p>
<p>Aquí podemos señalar otra característica, según la definición de vector,
la colección de elementos se encuentra ordenada, por lo que en nuestro
ejemplo la primera posición la ocupa el 1, la segunda el 5 y la tercera
el 2. Como el orden importa, si tuviese otro vector (5,1,2), a pesar de
tener los mismos elementos no sería el mismo vector porque están
ordenados de forma diferente.</p>
<p>Para ver la longitud del vector usamos:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(vec2)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<p>Nos informa que <code>vec2</code> tiene 3 elementos.</p>
<p>Asimismo podemos ver que los datos almacenados en este segundo ejemplo
cumplen con la definición en lo que respecta al tipo de dato, ya que
cada elemento es del mismo tipo (numeric).</p>
<p>Para conocer el tipo de dato ejecutamos:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(vec2)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>Veamos un ejemplo de asignación de otro tipo de dato atómico, como es el
character:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>vec3 <span class="ot">&lt;-</span> <span class="st">&quot;Hola&quot;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>vec3</span></code></pre></div>
<pre><code>## [1] &quot;Hola&quot;</code></pre>
<p>Siempre que escribamos contenido de tipo caracter debemos hacerlo entre
comillas. En este caso generamos el vector <code>vec3</code> con el contenido
“Hola”. A pesar de ser una palabra que, por supuesto, esta compuesta de
varios caracteres, dentro del vector <code>vec3</code> esta ocupa una sola
posición.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(vec3)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Respecto al tipo de dato si usamos la función <code>mode()</code> tendremos:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(vec3)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p><strong>Matriz</strong></p>
<p>Una matriz (matrix) se puede definir como una generalización
bidimensional del vector.</p>
<p>La podemos visualizar como una tabla conformada por columnas y filas
ordenadas y donde todos los elementos serán del mismo tipo atómico.</p>
<p>Para el lenguaje R, las matrices no son más que vectores con un atributo
adicional que contiene el número de filas y columnas, por lo tanto se
puede crear a partir de un vector solamente añadiendo información sobre
el número de filas y columnas de la matriz.</p>
<p>Podemos verlo mediante la función de creación <code>matrix()</code>:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>matriz1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>matriz1</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4</code></pre>
<p>Los índices de las filas y columnas difieren en cuanto a la ubicación de
la coma. El valor antes de la coma es el indice de las filas y el valor
luego de la coma es el indice de las columnas. Así, [2,1] hablaría de la
posición de la segunda fila y primer columna de la matriz.</p>
<p><strong>Array</strong></p>
<p>Un array, cuya traducción al español es arreglo, es una generalización
multidimensional del vector, es decir son matrices multidimensionales.</p>
<p>En tanto que en una matriz los elementos están organizados en dos
dimensiones (filas y columnas), en un array los elementos pueden estar
organizados en un número cualquiera de dimensiones.</p>
<p>Para definir estos dos objetos de datos que están emparentados se
utiliza muchas veces la siguiente forma:</p>
<p>Un array es una tabla de <span class="math inline">\(dimensión = k\)</span>, y una matriz es un caso
particular de un array donde <span class="math inline">\(k = 2\)</span>.</p>
<p>En los dos casos siguen teniendo el mismo atributo de los vectores: solo
pueden contener elementos del mismo tipo.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>array1 <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="at">data=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>), </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>array1</span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4
## 
## , , 2
## 
##      [,1] [,2]
## [1,]    5    7
## [2,]    6    8</code></pre>
<p>Observemos que al no poder mostrar elementos de más de dos dimensiones,
la salida produce dos tablas o matrices de 2x2. También podemos ver que
al comienzo de cada tabla aparece un índice de forma <code>, , x</code> , donde x
es la tercera dimensión del array.</p>
<p><strong>Factor</strong></p>
<p>Un factor es un objeto especialmente diseñado para contener datos
categóricos y se asocia particularmente con las <em>variables
cualitativas</em>.</p>
<p>En su estructura interna está compuesto por dos vectores, en uno
almacena índices enteros y el segundo es un vector de caracteres que
contiene las categorías (llamada niveles), a los que hace referencia el
primer vector.</p>
<p>Existen de dos tipos: factores nominales y factores ordinales. En el
caso del segundo se establece un orden en los niveles.</p>
<p>Normalmente, obtenemos un tipo factor de convertir un vector u otro tipo
de objeto con caracteres, pero para mostrar un ejemplo lo realizamos con
la función <code>factor()</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>factor1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="at">x=</span><span class="fu">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;a&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;a&quot;</span>), </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>))</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>factor1</span></code></pre></div>
<pre><code>## [1] a b a c b a
## Levels: a b c</code></pre>
<p>En el ejemplo, creamos el objeto factor1 con 6 elementos caracteres y
tres niveles sin orden.</p>
<p>Por ultimo diremos del factor, que además de su practicidad, en muchos
casos las funciones de R exigen que determinado argumento se encuentre
en este formato.</p>
<p><strong>Serie temporal</strong></p>
<p>Una serie temporal (ts) es un objeto construido a partir de un vector o
una matriz que contiene atributos adicionales tales como frecuencias y
fechas.</p>
<p>Si el objeto se construye a partir de un vector tendrá una serie de
tiempo única y si es desde una matriz será una serie multivariada.</p>
<p>No vamos a volver a hablar de este tipo de datos porque no lo
necesitaremos para este curso.</p>
<p><strong>Lista</strong></p>
<p>Una lista es un objeto consistente en una colección ordenada de otros
objetos, conocidos como componentes de la lista.</p>
<p>Este contenedor de datos permite combinar diferentes componentes como
vectores, matrices, etc, e inclusive otras listas dentro de un único
objeto lista.</p>
<p>A diferencia de los anteriores, que eran atómicos, se encuentra en el
grupo de los objetos recursivos lo que le permite esta flexibilidad de
poder contener tipos o clases diferentes aunque lo realiza sin
estructura fija.</p>
<p>Este formato es muy utilizado en las salidas resultado de funciones
estadísticas que devuelven un conjunto de valores, como por ejemplo las
regresiones o los contrastes de hipótesis. Luego es factible trabajar
con parte de los componentes de la lista resultado mediante el sistema
de índice.</p>
<p><strong>Dataframe</strong></p>
<p>Un dataframe es un objeto cuya finalidad es contener conjuntos de datos.
Se asemeja a las matrices, dado que tienen filas y columnas (dos
dimensiones), pero se diferencian en que cada columna puede almacenar
elementos de diferentes tipos.</p>
<p>Además las columnas suelen tener nombres únicos y podemos referenciarlas
por estos nombres, como si fueran variables del conjunto de datos.</p>
<p>Es el tipo de objeto que utilizamos para almacenar información leída de
tablas de datos provenientes de archivos externos (formato texto
separado por comas, Excel, SPSS, etc) y con las cuales acostumbramos a
trabajar en el análisis estadístico.</p>
<p>Desde el punto de vista de su estructura, todo dataframe esta conformado
por una serie de vectores de la misma longitud ubicados verticalmente
uno al lado de otro.</p>
<p>Podemos verlo en la siguiente porción de código:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>HC <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;F324&quot;</span>, <span class="st">&quot;G21&quot;</span>, <span class="st">&quot;G34&quot;</span>, <span class="st">&quot;F231&quot;</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>edad <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">34</span>,<span class="dv">32</span>,<span class="dv">34</span>,<span class="dv">54</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>sexo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;M&quot;</span>, <span class="st">&quot;H&quot;</span>, <span class="st">&quot;H&quot;</span>, <span class="st">&quot;M&quot;</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(HC, edad, sexo)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>df1</span></code></pre></div>
<pre><code>##     HC edad sexo
## 1 F324   34    M
## 2  G21   32    H
## 3  G34   34    H
## 4 F231   54    M</code></pre>
<p>Creamos tres vectores con datos de supuestos individuos, su historia
clinica, la edad y el sexo. Luego mediante la función <code>data.frame()</code>
“unimos” esos vectores en forma vertical para formar un dataframe de 3
variables y 4 observaciones.</p>
<p><img src="objetos_R.png" /></p>
</div>
<div id="operadores-en-r" class="section level1">
<h1>Operadores en R</h1>
<p>Además de funciones, el lenguaje R cuenta con operadores de uso
relativamente intuitivo, que permiten realizar operaciones de diferentes
tipos con los objetos que contienen datos.</p>
<p><img src="op_aritmeticos.JPG" /></p>
<p>Los operadores aritméticos se utilizan como si el lenguaje fuese una
calculadora:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">-</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span> <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 27</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="sc">/</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">^</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 25</code></pre>
<p>También se pueden hacer operaciones con los objetos que almacenan
valores numéricos:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>(a <span class="sc">+</span> b)<span class="sc">*</span>b</span></code></pre></div>
<pre><code>## [1] 54</code></pre>
<p>Y funciona con objetos con más de un elemento, aplicando artimética
vectorial, donde las operaciones se realizan elemento a elemento.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 3 6 9</code></pre>
<p>O bien, con operaciones entre los objetos, donde se realiza entre los
elementos de la misma posición:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> a</span></code></pre></div>
<pre><code>## [1] 1 4 9</code></pre>
<p><img src="op_relacionales.JPG" /></p>
<p>Habitualmente estos operadores se utilizan asiduamente en expresiones
dentro de índices y funciones para indicar relaciones entre objetos o
valores.</p>
<p>A su funcionamiento lo podemo ver en el ejemplo siguiente:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">8</span>,<span class="dv">2</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>a <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<p>El lenguaje evalua las comparaciones que hace el operador relacional
igual (en este caso) y en aquellos valores que coinciden devuelve TRUE y
en los que no hay coincidencia devuelve FALSE.</p>
<p>Lo mismo sucede con los otros operadores relacionales:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">8</span>,<span class="dv">10</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>a <span class="sc">&gt;</span> <span class="dv">8</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">&lt;</span> <span class="dv">8</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">!=</span> <span class="dv">8</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<p><img src="op_logicos.JPG" /></p>
<p>Cuando queremos conectar algunas de las expresiones relacionales hacemos
uso de estos operadores lógicos típicos (AND, OR, NOT).</p>
<p>Para ejemplificar podemos hacer:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6 7 8</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>(a <span class="sc">&gt;</span> <span class="dv">3</span>) <span class="sc">&amp;</span> (a <span class="sc">&lt;</span> <span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE</code></pre>
<p>En el caso anterior usamos el operador &amp; como conector AND de dos
expresiones relacionales donde el lenguaje devuelve TRUE en el rango
mayor a 3 y menor a 7 (valores 4,5 y 6).</p>
</div>
<div id="valores-especiales-en-r" class="section level1">
<h1>Valores especiales en R</h1>
<p>Existen algunos valores especiales para datos con expresiones reservadas
en R, entre ellos encontramos los valores NA, NaN, Inf y NULL.</p>
<p><img src="valores_esp.JPG" /></p>
<p>El más relevante de estos valores especiales es el NA que sirve para
indicar que no hay valor en esa posición o elemento de un objeto.</p>
</div>
<div id="secuencias-regulares" class="section level1">
<h1>Secuencias regulares</h1>
<p>Además de la concatenación con la función <code>c()</code> existen tres formas
comunes de generar secuencias regulares.</p>
<p>La primera es mediante un operador que entre dos valores produce un
intervalo secuencial de enteros que puede ser ascendente o descendente.
El operador es <code>:</code> y se usa de la siguiente forma:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span><span class="sc">:</span><span class="dv">1</span></span></code></pre></div>
<pre><code>##  [1] 10  9  8  7  6  5  4  3  2  1</code></pre>
<p>Otra manera es por medio de la función <code>seq()</code> que tiene como argumentos
principales <em>from</em>, <em>to</em> y <em>by</em></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">1</span>, <span class="at">to=</span><span class="dv">20</span>,<span class="at">by =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##  [1]  1  3  5  7  9 11 13 15 17 19</code></pre>
<p>La ejecución de la línea anterior produce una secuencia de números
comenzando en el 1 y finalizando en el 20 de dos en dos.</p>
<p>Algunos otros ejemplos de la misma función pueden ser:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="fl">0.1</span>, <span class="at">to=</span><span class="fl">0.9</span>,<span class="at">by =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>## [1] 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="sc">-</span><span class="dv">5</span>, <span class="at">to=</span><span class="dv">5</span>,<span class="at">by =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>##  [1] -5 -4 -3 -2 -1  0  1  2  3  4  5</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="at">from=</span><span class="dv">300</span>, <span class="at">to=</span><span class="dv">0</span>,<span class="at">by =</span> <span class="sc">-</span><span class="dv">50</span>)</span></code></pre></div>
<pre><code>## [1] 300 250 200 150 100  50   0</code></pre>
<p>Finalmente la tercer posibilidad que vamos a mostrar es la función
<code>rep()</code> que duplica valores. Su forma más sencilla es <code>rep(x, times=Nº)</code>
que coloca un Nº de copias de x, una tras otras.</p>
<p>Algunos ejemplos de la función:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="at">x=</span><span class="dv">2</span>, <span class="at">times=</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 2 2 2 2 2</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">5</span>)  <span class="co"># combinada con el operador :</span></span></code></pre></div>
<pre><code>##  [1] 1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4 1 2 3 4</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="fl">4.5</span>,<span class="fl">6.8</span>,<span class="fl">7.2</span>), <span class="dv">2</span>) <span class="co"># combinada con la función c()</span></span></code></pre></div>
<pre><code>## [1] 4.5 6.8 7.2 4.5 6.8 7.2</code></pre>
</div>
<div id="índices" class="section level1">
<h1>Índices</h1>
<p>R implementa una manera eficiente y flexible de acceder selectivamente a
elementos de un objeto basado en una indexación interna.</p>
<p>La notación para identificar un índice es encerrarlo entre corchetes,
entonces si tenemos un vector <strong>x</strong> con varios elementos y queremos
acceder al segundo de ellos escribimos <code>x[2]</code>.</p>
<p>Esta forma de acceder a los elementos de los distintos objetos que
almacenan datos nos permite realizar muchas operaciones desde el simple
llamado hasta seleccionar, eliminar o modificar valores.</p>
<p>Veamos algunos ejemplos:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>,<span class="st">&quot;d&quot;</span>,<span class="st">&quot;e&quot;</span>) <span class="co"># generamos un vector x con 5 letras</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">1</span>]    <span class="co"># llamamos a la primer posición y nos devuelve su valor </span></span></code></pre></div>
<pre><code>## [1] &quot;a&quot;</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">3</span>]    <span class="co"># llamamos a la tercer posición y nos devuelve su valor</span></span></code></pre></div>
<pre><code>## [1] &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)]   <span class="co"># llamamos a las posiciones 1 y 3 juntas mediante c()</span></span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>x[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>)] <span class="co"># llamamos a las posiciones menos la 1 y la 4</span></span></code></pre></div>
<pre><code>## [1] &quot;b&quot; &quot;c&quot; &quot;e&quot;</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>) <span class="co"># creamos otro vector y con los valores 1,2 y 5</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>x[y]        <span class="co"># utilizamos el vector y como índice y nos devuelve     </span></span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;e&quot;</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;h&quot;</span> <span class="co"># asignamos el valor “h” a la posición 2 del vector x</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;h&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> x[<span class="sc">-</span><span class="dv">5</span>]  <span class="co"># creamos el vector z eliminando la posición 5 de x</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>z</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;h&quot; &quot;c&quot; &quot;d&quot;</code></pre>
<p>Observando estos ejemplos podemos imaginar las posibilidades que se
abren dentro de cada tipo de estructura de datos para trabajar con estos
índices, lo que hace muy potente al lenguaje.</p>
<p>Cuando los aplicamos a estructuras de dos dimensiones como matrices
(incluidas tablas) y dataframes el formato tiene un orden específico:</p>
<blockquote>
<p>objeto[índice de fila , índice de columna]</p>
</blockquote>
<p>Veamos en algunos ejemplos la forma de trabajo:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>matriz <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="at">data=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>), <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">ncol =</span> <span class="dv">3</span>) <span class="co"># creamos una matriz</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>matriz   <span class="co">#  mostramos la matriz creada</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    6   11
## [2,]    2    7   12
## [3,]    3    8   13
## [4,]    4    9   14
## [5,]    5   10   15</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>matriz[<span class="dv">3</span>,<span class="dv">2</span>]     <span class="co"># llamamos al valor contenido en la fila 3 columna 2</span></span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>matriz[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>,<span class="dv">3</span>]   <span class="co"># llamamos a los valores contenidos entre la fila 2 y 4 de la columna 3</span></span></code></pre></div>
<pre><code>## [1] 12 13 14</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>matriz[<span class="dv">5</span>,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] <span class="co"># llamamos a los valores contenidos en la fila 5 de la columna 1 y 3</span></span></code></pre></div>
<pre><code>## [1]  5 15</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>matriz[<span class="dv">1</span>,] <span class="ot">&lt;-</span> matriz[<span class="dv">4</span>,]  <span class="co"># asignamos los valores de la fila 4 a la fila 1</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>matriz       <span class="co"># mostramos la matriz con los cambios</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    4    9   14
## [2,]    2    7   12
## [3,]    3    8   13
## [4,]    4    9   14
## [5,]    5   10   15</code></pre>
<p>Hasta ahora hemos visto como trabaja con los números de los índices en
forma directa (vectores de índice numéricos) pero también se puede
utilizar el formato de corchetes para aplicar vectores de índice
lógicos.</p>
<p>Los índices lógicos surgen de expresiones con operados relacionales y/o
lógicos que vimos anteriormente. Estos devuelven resultados TRUE (T) y
FALSE (F) de la comparación solicitada.</p>
<p>Por ejemplo para un vector sencillo:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>vec1</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6 7 8</code></pre>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>vec1[vec1<span class="sc">&gt;</span><span class="dv">3</span> <span class="sc">&amp;</span> vec1<span class="sc">&lt;</span><span class="dv">7</span>]</span></code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<p>Esto es lo mismo que hacer:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>vec1[<span class="fu">c</span>(F,F,F,T,T,T,F,F)]</span></code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<p>Porque el operador relacional provoca esa comparación en el vector
devolviendo un “vector lógico”:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>vec1<span class="sc">&gt;</span><span class="dv">3</span> <span class="sc">&amp;</span> vec1<span class="sc">&lt;</span><span class="dv">7</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE</code></pre>
<p>Observemos un ejemplo aplicado en una matriz para que sea más clara su
utilización. Supongamos que deseamos asignar un determinado valor a los
elementos de la matriz que creamos hace instantes que sean menores a 5:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>matriz[matriz <span class="sc">&lt;</span> <span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="dv">100</span>  <span class="co"># asignamos el valor 100 a todos los </span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="co"># elementos de la matriz que sean menores a 5</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>matriz  <span class="co"># mostramos la matriz modificada</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]  100    9   14
## [2,]  100    7   12
## [3,]  100    8   13
## [4,]  100    9   14
## [5,]    5   10   15</code></pre>
<p>Como vemos en las posiciones donde encontró valores menores a 5 almacenó
el valor 100 que declaramos luego del operador de asignación.</p>
</div>
<div id="gestión-de-factores" class="section level1">
<h1>Gestión de factores</h1>
<p>Cuando presentamos las distintas estructuras de datos deciamos que a los
factores suelen obtenerse de convertir vectores u otro tipo de objeto
con caracteres.</p>
<p>Para entenderlo partamos de un vector con datos categóricos:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>sexo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Masculino&quot;</span>, <span class="st">&quot;Femenino&quot;</span>, <span class="st">&quot;Femenino&quot;</span>, <span class="st">&quot;Masculino&quot;</span>, <span class="st">&quot;Masculino&quot;</span>, <span class="st">&quot;Masculino&quot;</span>,<span class="st">&quot;Femenino&quot;</span>)</span></code></pre></div>
<p>Creamos un vector llamado sexo con 7 elementos del tipo caracter donde
se repiten las categorías Femenino y Masculino</p>
<p>Podemos confirmar que estamos frente a un vector y que el contenido es
character:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.vector</span>(sexo) <span class="co"># preguntamos si sexo es un vector</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(sexo)  <span class="co"># visualizamos el tipo de dato de sexo</span></span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<p>Para crear un factor a partir de este vector debemos utilizar la función
<code>factor()</code>:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(sexo)</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>sexo</span></code></pre></div>
<pre><code>## [1] Masculino Femenino  Femenino  Masculino Masculino Masculino Femenino 
## Levels: Femenino Masculino</code></pre>
<p>En la salida observamos que además de los siete elementos aparecen los
niveles asumidos auomáticamente bajo el título <em>Levels</em>.</p>
<p>Si queremos comprobar el tipo de objeto en que se convirtió <code>sexo</code>,
encontraremos:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.vector</span>(sexo) <span class="co"># preguntamos si sexo es un vector</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.factor</span>(sexo) <span class="co"># preguntamos si sexo es un factor</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(sexo)  <span class="co"># visualizamos el tipo de dato de sexo</span></span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>Pertenece a la clase factor, pero aunque nosotros observamos que su
contenido son palabras, su tipo nos dice que es numérico. A que se debe
esto? Veamos:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(sexo)</span></code></pre></div>
<pre><code>##  Factor w/ 2 levels &quot;Femenino&quot;,&quot;Masculino&quot;: 2 1 1 2 2 2 1</code></pre>
<p>Ejecutando la function <code>str()</code>, que nos devuelve la estructura de los
objetos, podemos ver que sexo tiene dos niveles y los valores internos
de los elementos son todos números 1 y 2, donde 1 corresponde a Femenino
y 2 a Masculino.</p>
<p>Esto significa que la estructura de los factores está compuesta por dos
vectores, uno numérico que funciona como índice de enteros, que
sustituye al vector de caracteres original, y el otro es un vector de
caracteres, que contiene los niveles (Levels) o categorías, a los que
hace referencia el primer vector.</p>
<p>Para ver solo los niveles o categorías del factor podemos usar:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(sexo)</span></code></pre></div>
<pre><code>## [1] &quot;Femenino&quot;  &quot;Masculino&quot;</code></pre>
<p>Hasta ahora hemos visto factores nominales donde no importa el orden,
aunque la función <code>factor()</code> implementa el orden alfabético para
determinar a qué índice numérico pertenece cada categoría. Es claro en
el ejemplo que a <em>Femenino</em> le asigna el 1 y a <em>Masculino</em> el 2.</p>
<p>Pero si nos encontramos frente a una variable cualitativa ordinal vamos
a necesitar indicarle a la función cual es el orden de las categorías.</p>
<p>Aprovechemos también para mostrar una forma más completa de la función
<code>factor()</code>.<br />
Vamos al siguiente ejemplo:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>salud <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>)</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>salud</span></code></pre></div>
<pre><code>## [1] 4 3 1 3 2 2 3 3 1</code></pre>
<p>Tenemos en el vector salud algunos códigos numéricos que representan
nivel de salud de personas registradas por una encuesta donde 1
significa mala salud, 2 regular, 3 buena y 4 muy buena.</p>
<p>Vamos a crear el factor <code>nivsalud</code> a partir de este vector, así:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>nivsalud <span class="ot">&lt;-</span> <span class="fu">factor</span>(salud,</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">label=</span><span class="fu">c</span>(<span class="st">&quot;Mala&quot;</span>,<span class="st">&quot;Regular&quot;</span>,<span class="st">&quot;Buena&quot;</span>,<span class="st">&quot;Muy buena&quot;</span>),</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">levels=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>nivsalud</span></code></pre></div>
<pre><code>## [1] Muy buena Buena     Mala      Buena     Regular   Regular   Buena    
## [8] Buena     Mala     
## Levels: Mala Regular Buena Muy buena</code></pre>
<p>Para construir el nuevo factor aplicamos dos argumentos (además del
vector original). Por un lado con <strong><em>label</em></strong> ingresamos las “etiquetas”
de cada categoría y luego con <strong><em>levels</em></strong> los niveles como se
encuentran en el vector original (1,2,3,4).</p>
<p>Aquí es necesario usar estos argumentos para conseguir resultados
similares al ejemplo del factor sexo porque a diferencia de ese primer
factor que creamos <code>nivsalud</code> surge de un vector que tiene elementos con
valores numéricos y no las palabras de las categorías como Femenino y
Masculino.</p>
<p>Hasta aquí hemos creado un factor pero si miramos sus niveles no
encontraremos señales que sigan un orden específico:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(nivsalud)</span></code></pre></div>
<pre><code>## [1] &quot;Mala&quot;      &quot;Regular&quot;   &quot;Buena&quot;     &quot;Muy buena&quot;</code></pre>
<p>Para indicarle orden hay que agregar otro argumento dentro de la función
anterior:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>nivsalud <span class="ot">&lt;-</span> <span class="fu">factor</span>(salud,</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">label=</span><span class="fu">c</span>(<span class="st">&quot;Mala&quot;</span>,<span class="st">&quot;Regular&quot;</span>,<span class="st">&quot;Buena&quot;</span>,<span class="st">&quot;Muy buena&quot;</span>),</span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">levels=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,<span class="at">ordered=</span>T)</span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>nivsalud</span></code></pre></div>
<pre><code>## [1] Muy buena Buena     Mala      Buena     Regular   Regular   Buena    
## [8] Buena     Mala     
## Levels: Mala &lt; Regular &lt; Buena &lt; Muy buena</code></pre>
<p>Al sumar <code>ordered=T</code> le estamos diciendo que los niveles tienen orden y
estos se pueden ver en los Levels donde Mala es &lt; a Regular y este es
&lt; a Buena y asi, hasta el nivel Muy buena.</p>
</div>
<div id="gestión-de-matrices" class="section level1">
<h1>Gestión de matrices</h1>
<p>Definimos a una matriz como una generalización bidimensional de un
vector. De hecho podemos construir matrices a partir de “unir” vectores
en forma horizontal o vertical.</p>
<p>Las funciones para realizar estas tareas son <code>rbind()</code> y <code>cbind</code>.</p>
<p>Por ejemplo, tenemos dos vectores:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>vec1 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>vec1</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>vec2 <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">16</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>vec2</span></code></pre></div>
<pre><code>## [1] 11 12 13 14 15 16</code></pre>
<p>Crearemos la matriz m1 colocando los vectores vec1 y vec2 en forma
horizontal uno debajo del otro.</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(vec1,vec2)</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>m1</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## vec1    1    2    3    4    5    6
## vec2   11   12   13   14   15   16</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(m1)</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<p>Igualmente podemos generar la matriz m2 con los vectores verticalmente
uno al lado del otro.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(vec1,vec2)</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>m2</span></code></pre></div>
<pre><code>##      vec1 vec2
## [1,]    1   11
## [2,]    2   12
## [3,]    3   13
## [4,]    4   14
## [5,]    5   15
## [6,]    6   16</code></pre>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(m2)</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<p>Para no confundirse podemos recordar que las letras iniciales de las
funciones estan relacionadas con las filas y columnas en idioma inglés.
Así <code>rbind()</code> es por row (filas) y <code>cbind()</code> por column (columnas).</p>
<p>También las podemos utilizar para unir matrices en otras matrices de
mayor dimensión.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(m2,m2)</span></code></pre></div>
<pre><code>##      vec1 vec2 vec1 vec2
## [1,]    1   11    1   11
## [2,]    2   12    2   12
## [3,]    3   13    3   13
## [4,]    4   14    4   14
## [5,]    5   15    5   15
## [6,]    6   16    6   16</code></pre>
<p>En este caso no lo asignamos a ningun objeto nuevo pero podemos
visualizar el resultado de una matriz que repite a <code>m2</code> para tener 4
columnas y 6 filas.</p>
<p>Algunos otras funciones útiles en la gestión de matrices son:</p>
<p><code>ncol()</code>: devuelve el número de columnas de la matriz</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(m1)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>La matriz <code>m1</code> tiene 6 columnas</p>
<p><code>nrow()</code>: devuelve el número de filas de la matriz</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(m2)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>La matriz <code>m2</code> tiene 6 filas</p>
<p><code>dim()</code>: devuelve las dimensiones de la matriz (con formato índice)</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(m1)</span></code></pre></div>
<pre><code>## [1] 2 6</code></pre>
<p>La matriz <code>m1</code> tiene 2 filas y 6 columnas. Siempre el formato devuelve
las dimensiones con el orden de los índices, primero las filas y luego
las columnas.</p>
</div>
<div id="gestión-de-dataframes" class="section level1">
<h1>Gestión de dataframes</h1>
<p>La estructura de datos, usada dentro del lenguaje, para almacenar datos
leídos de fuentes externas (archivos separados por comas, planillas de
calculo, etc) es el dataframe. Su formato es similar a la matriz con el
agregado que permite distintos tipos de datos por cada columna.</p>
<p>Muchas de las funciones vistas para matrices son las mismas que
utilizamos para dataframes.</p>
<p>Veamos un ejemplo. Vamos a crear un dataframe llamado <code>datos</code> con 4
variables de 5 registros, la primera será un identificador ID numérico
entero correlativo, la segunda variable EDAD, la tercera SEXO codificada
como M para masculino y F para femenino y la tercera TRABAJA de formato
lógica donde T (TRUE) corresponde a “Si trabaja” y F (FALSE) a “No
trabaja”:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>id <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>     <span class="co"># construimos el vector id</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>edad <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">23</span>,<span class="dv">43</span>,<span class="dv">12</span>,<span class="dv">65</span>,<span class="dv">37</span>)     <span class="co"># construimos el vector edad</span></span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>sexo <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;M&quot;</span>,<span class="st">&quot;F&quot;</span>)   <span class="co"># construimos el vector sexo</span></span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>trabaja <span class="ot">&lt;-</span> <span class="fu">c</span>(T,T,F,F,T)    <span class="co"># construimos el vector trabaja</span></span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(id,edad,sexo,trabaja)   <span class="co"># construimos el dataframe datos</span></span></code></pre></div>
<p>Tengamos en cuenta que habitualmente leemos archivos externos que serán
dataframes en R y que esta forma de creación de la estructura de datos
es solo con fines del ejemplo.</p>
<p>Aplicamos algunas de las funciones que vimos con la matrices:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(datos)  <span class="co"># pedimos el número de columnas (variables)</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(datos)  <span class="co"># pedimos el número de filas (registros u observaciones)</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(datos)   <span class="co"># pedimos las dimensiones del dataframe (observaciones,variables)</span></span></code></pre></div>
<pre><code>## [1] 5 4</code></pre>
<p>También podemos visualizar como se compone el objeto <code>datos</code> aplicando
<code>str()</code> que devuelve la estructura interna de cualquier objeto en R.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(datos)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  4 variables:
##  $ id     : int  1 2 3 4 5
##  $ edad   : num  23 43 12 65 37
##  $ sexo   : chr  &quot;M&quot; &quot;F&quot; &quot;F&quot; &quot;M&quot; ...
##  $ trabaja: logi  TRUE TRUE FALSE FALSE TRUE</code></pre>
<p>Nos informa que:</p>
<ul>
<li>el objeto <code>datos</code> es un dataframe con 5 observaciones y 4 variables</li>
<li>la variable id es entero (int)</li>
<li>la variable edad numérica (num)</li>
<li>la variable sexo de tipo factor (Factor)</li>
<li>la variable trabaja de tipo lógica (logi).</li>
<li>además nos muestra los primeros valores de cada variable, que aquí
casualmente coinciden con todos los registros que hay dentro del
dataframe.</li>
</ul>
<p>Cuando necesitemos llamar al contenido de alguna columna o variable del
dataframe debemos utilizar la notación:</p>
<blockquote>
<p>&lt;nombre del objeto dataframe&gt;$&lt;nombre de la variable&gt;</p>
</blockquote>
<p>Por ejemplo, si queremos mostrar el contenido de la variable sexo del
objeto datos hacemos:</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>datos<span class="sc">$</span>sexo</span></code></pre></div>
<pre><code>## [1] &quot;M&quot; &quot;F&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot;</code></pre>
<p>Nos muestra los 5 valores que tiene cargado y como se trata de un
factor, debajo aparecen los niveles definidos.</p>
<p>En cuanto al sistema de indexación se comporta de manera similar a las
matrices. Podemos acceder a elementos internos del dataframe de las
siguientes formas:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>datos[,<span class="dv">3</span>]   <span class="co"># pedimos la tercer variable (sexo)</span></span></code></pre></div>
<pre><code>## [1] &quot;M&quot; &quot;F&quot; &quot;F&quot; &quot;M&quot; &quot;F&quot;</code></pre>
<p>Observemos que las dos ultimas salidas son identicas, dado que muestran
todas las observaciones de la variable <code>sexo</code>, aunque la solicitud sea
de manera diferente.</p>
<p>Algunos otros casos de uso de indice:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>datos[<span class="dv">1</span>,<span class="dv">2</span>]  <span class="co"># observación 1 variable 2</span></span></code></pre></div>
<pre><code>## [1] 23</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>datos[<span class="dv">4</span>,]  <span class="co"># observación 4 todas las variables</span></span></code></pre></div>
<pre><code>##   id edad sexo trabaja
## 4  4   65    M   FALSE</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>datos[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">3</span>] <span class="co"># observación 1,2 y 3 variable 3</span></span></code></pre></div>
<pre><code>## [1] &quot;M&quot; &quot;F&quot; &quot;F&quot;</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>datos[<span class="dv">5</span>,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>)] <span class="co"># observación 5 variables 1 y 4</span></span></code></pre></div>
<pre><code>##   id trabaja
## 5  5    TRUE</code></pre>
<p>Por último, vamos podemos mostrar y gestionar los nombres de las
variables con la función <code>names()</code></p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(datos)</span></code></pre></div>
<pre><code>## [1] &quot;id&quot;      &quot;edad&quot;    &quot;sexo&quot;    &quot;trabaja&quot;</code></pre>
</div>
<div id="selecciones" class="section level1">
<h1>Selecciones</h1>
<p>Integrando el sistema de índice con los operadores relacionales y
lógicos podemos llevar a cabo selecciones o filtros de datos muy útiles.</p>
<p>Supongamos que necesitamos extaer a las observaciones que tengan
almacenado en la variable sexo una F (mujeres). Usando el índice
podríamos hacer:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a>mujeres <span class="ot">&lt;-</span> datos[datos<span class="sc">$</span>sexo<span class="sc">==</span><span class="st">&quot;F&quot;</span>,]</span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a>mujeres</span></code></pre></div>
<pre><code>##   id edad sexo trabaja
## 2  2   43    F    TRUE
## 3  3   12    F   FALSE
## 5  5   37    F    TRUE</code></pre>
<p>Analicemos la línea ejecutada: Primero creamos un nuevo contenedor para
almacenar la selección (mujeres). Luego asignamos el dataframe datos con
un índice donde usamos el operador relacional == en el espacio de las
observaciones. Luego es necesario colocar la coma en el índice dentro de
los corchetes para indicar que la selección es de todas las variables.</p>
<p>Estos índices pueden ser más complejos si es necesario conectando varios
terminos relacionales con operadores lógicos, por ejemplo:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>mujeres_mayores_20 <span class="ot">&lt;-</span> datos[datos<span class="sc">$</span>sexo<span class="sc">==</span><span class="st">&quot;F&quot;</span> <span class="sc">&amp;</span> datos<span class="sc">$</span>edad<span class="sc">&gt;</span><span class="dv">20</span>,]</span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a>mujeres_mayores_20</span></code></pre></div>
<pre><code>##   id edad sexo trabaja
## 2  2   43    F    TRUE
## 5  5   37    F    TRUE</code></pre>
<p>En este último caso incorporamos una selección de las mujeres mayores a
20 años mediante el operador &amp; (AND).</p>
<p>Una función básica de R más cómoda para trabajar con selecciones es
<code>subset()</code></p>
<p>Los resultados de subset() son iguales al de las selecciones con índices
pero la escritura del código es más entendible.</p>
<blockquote>
<p>subset(x, subset, select)</p>
</blockquote>
<p>donde:</p>
<p>x es el objeto (dataframe) original</p>
<p>subset es la expresión lógica de selección</p>
<p>select son las variables que va a contener la salida (opcional)</p>
<p>Para hacer las mismas selecciones que hicimos anteriomente, ejecutamos:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(datos, sexo<span class="sc">==</span><span class="st">&quot;F&quot;</span>)</span></code></pre></div>
<pre><code>##   id edad sexo trabaja
## 2  2   43    F    TRUE
## 3  3   12    F   FALSE
## 5  5   37    F    TRUE</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(datos, sexo<span class="sc">==</span><span class="st">&quot;F&quot;</span> <span class="sc">&amp;</span> datos<span class="sc">$</span>edad<span class="sc">&gt;</span><span class="dv">20</span>)</span></code></pre></div>
<pre><code>##   id edad sexo trabaja
## 2  2   43    F    TRUE
## 5  5   37    F    TRUE</code></pre>
<p>Observemos que sólo estamos mostrando la selección, dado que el código
no está asignado a ningún objeto. Además obviamos colocar el argumento
select porque de esta manera se incluyen todas las variables.</p>
<p>Si necesitasemos además filtrar las variables podemos incorporar algunos
formatos comunes dentro de select:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(datos, sexo<span class="sc">==</span><span class="st">&quot;F&quot;</span>, <span class="at">select =</span> trabaja) <span class="co"># solo una variable</span></span></code></pre></div>
<pre><code>##   trabaja
## 2    TRUE
## 3   FALSE
## 5    TRUE</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(datos, sexo<span class="sc">==</span><span class="st">&quot;F&quot;</span>, <span class="at">select =</span> <span class="fu">c</span>(id,sexo)) <span class="co"># más de una variable específica</span></span></code></pre></div>
<pre><code>##   id sexo
## 2  2    F
## 3  3    F
## 5  5    F</code></pre>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(datos, sexo<span class="sc">==</span><span class="st">&quot;F&quot;</span>, <span class="at">select =</span> <span class="sc">-</span>trabaja) <span class="co"># todas menos una variable</span></span></code></pre></div>
<pre><code>##   id edad sexo
## 2  2   43    F
## 3  3   12    F
## 5  5   37    F</code></pre>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(datos, sexo<span class="sc">==</span><span class="st">&quot;F&quot;</span>, <span class="at">select =</span> edad<span class="sc">:</span>trabaja) <span class="co"># un rango de variables</span></span></code></pre></div>
<pre><code>##   edad sexo trabaja
## 2   43    F    TRUE
## 3   12    F   FALSE
## 5   37    F    TRUE</code></pre>
</div>
<div id="lectura-de-archivos" class="section level1">
<h1>Lectura de archivos</h1>
<p>Habitualmente los datos que se quieren analizar se leen desde archivos
externos con un formato determinado.</p>
<p>R reconoce, para su lectura nativa, archivos con texto plano delimitados
por algún separador, generalmente coma o punto y coma.</p>
<p>También puede leer archivos en otros formatos (Excel, SPSS, etc.) y
acceder a bases de datos tipo SQL, pero las funciones necesarias no
están incluidas en el paquete base (se necesitan otros paquetes
específicos para importar los datos).</p>
<p>En este capítulo solo nos ocuparemos de explicar la forma de lectura de
archivos con formato texto ASCII (acrónimo inglés de American Standard
Code for Information Interchange — Código Estándar Estadounidense para
el Intercambio de Información).</p>
<p>Encontrarán en el material que trata sobre RStudio algunas maneras, por
medio de menú, de leer archivos con otros formatos.</p>
<p>Dentro del lenguaje, la familia de funciones para realizar la lectura de
estos archivos de texto ASCII o “planos” se denomina <code>read.table()</code></p>
<p>Al leer el archivo, que tiene que tener una organización interna
tabular, <code>read.table()</code> genera un dataframe con el nombre que nosotros
definamos.</p>
<p>Cuando necesitamos leer algun archivo de texto separado por <em>comas</em> con
extensión <strong>csv</strong> se puede usar la función <code>read.csv</code>. Si en cambio el
separador del archivo <strong>csv</strong> es el <em>punto y coma</em> (utilizado en
configuraciones regionales latinas) conviene usar <code>read.csv2</code>.</p>
<p>Por ejemplo, si nuestro archivo se denomina <code>datos.csv</code> y sabemos que el
separador es el punto y coma, podemos hacer:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read.csv2</span>(<span class="st">&quot;datos.csv&quot;</span>)</span></code></pre></div>
<p>Observamos que la expresión de la función <code>read.csv2</code> se encuentra
asignada a un objeto de nombre datos. Este objeto será el contenedor de
la información del archivo datos.csv y por lo tanto será de tipo
dataframe.</p>
<p>Algunas consideraciones a tener en cuenta sobre el archivo de datos
leído para que esta operación tenga éxito:</p>
<p>• debe ser formato texto plano (ASCII) y la tabla de datos tener como
separador punto y coma (;)</p>
<p>• se debe llamar datos.csv y encontrarse en el directorio de trabajo
activo</p>
<p>• la primera línea debe contener los nombres de las variables</p>
<p>Esto es porque la función <code>read.csv2</code> asume que el archivo es de texto
plano, tiene punto y comas como separador de columnas y la primer línea
es la cabecera del archivo (donde se definen los nombres de las
variables).</p>
<p>Una cuestión importante mencionada anteriormente es el directorio de
trabajo.</p>
<p>Antes de hacer una lectura de datos resulta necesario indicar al
programa el directorio (carpeta) en que pretendemos trabajar.</p>
<p>Este directorio será el lugar donde R irá a buscar los archivos que
vayamos a importar y donde dejará nuestras exportaciones.</p>
<p>Definimos el directorio de trabajo de dos maneras, por medio del menú de
RStudio (ver en material sobre RStudio) o mediante código.</p>
<p>La función de R que define el directorio de trabajo es <code>setwd()</code> y entre
los paréntesis se escribe la ruta de la carpeta donde queramos que R
almacene y lea sus archivos de datos. Este texto debe ir encerrado entre
comillas de la siguiente forma:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;C:/CursoAvanzada2021&quot;</span>)</span></code></pre></div>
<p>La línea anterior define como activo al directorio CursoAvanzada2021
ubicado en la raiz del disco C del equipo. Esta carpeta debe ser creada
previamente, dado que la función solo apunta al directorio pero no lo
genera.</p>
</div>
<div id="estadística-descriptiva" class="section level1">
<h1>Estadística descriptiva</h1>
<p>Con el fin de mostrar algunas de las funciones aplicadas a estadística
descriptiva vamos a utilizar a datos.csv leídos recientemente.</p>
<p>Para conocer el contenido del archivo vamos a observar su estructura:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(datos)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    74 obs. of  6 variables:
##  $ id     : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ sexo   : chr  &quot;M&quot; &quot;M&quot; &quot;M&quot; &quot;M&quot; ...
##  $ edad   : int  76 68 50 49 51 68 70 64 60 57 ...
##  $ peso   : num  71 71 79 71 87 75 80 83 69 73 ...
##  $ talla  : num  167 164 164 164 168 ...
##  $ trabaja: logi  FALSE FALSE FALSE TRUE TRUE FALSE ...</code></pre>
<p><code>datos.csv</code> contiene 74 observaciones y 6 variables. Las variables son
todas numéricas excepto <strong>sexo</strong> que es caracter y <strong>trabaja</strong> que tiene formato lógico.</p>
<p><strong>Frecuencias y tablas</strong></p>
<p>Podemos resumir individualmente variables de tipo cualitativo mediante
las frecuencias absolutas y relativas de sus categorías.</p>
<p>La función para esta tarea en lenguaje R es <code>table()</code></p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos<span class="sc">$</span>sexo)</span></code></pre></div>
<pre><code>## 
##  F  M 
## 28 46</code></pre>
<p>Por otro lado para mostrar la proporción de veces que se ha dado cada
una de las categorías, utilizamos las frecuencias relativas mediante
<code>prop.table()</code></p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo))</span></code></pre></div>
<pre><code>## 
##         F         M 
## 0.3783784 0.6216216</code></pre>
<p>Como vemos en el ejemplo, necesitamos incorporar como argumento de la
función <code>prop.table()</code> una función <code>table()</code> de frecuencias absolutas.</p>
<p>Si quisieramos ver el resultado en formato porcentual, sólo tenemos que
añadir el producto por 100.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo)) <span class="sc">*</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## 
##        F        M 
## 37.83784 62.16216</code></pre>
<p>Estas salidas se pueden redondear aplicando la función <code>round()</code></p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">prop.table</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo)) <span class="sc">*</span> <span class="dv">100</span>,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## 
##     F     M 
## 37.84 62.16</code></pre>
<p><strong>Tablas de contingencia</strong></p>
<p>La forma más adecuada de describir la relación entre dos variables
categóricas es a partir de la construcción de una tabla de contingencia.
Para ello se introduce en cada fila de la tabla las categorías de una de
las variables y las categorías de la otra variable se asocian a cada una
de las columnas de la tabla, en cada celda de la tabla aparecerá el
número de observaciones correspondientes a la combinación oportuna de
ambas variables.</p>
<p>Con las mismas funciones anteriores podemos realizarlo:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(datos<span class="sc">$</span>sexo,datos<span class="sc">$</span>trabaja)</span></code></pre></div>
<pre><code>##    
##     FALSE TRUE
##   F    10   18
##   M    19   27</code></pre>
<p>Recordemos que en orden dentro de los paréntesis de la función es igual
al de los índices, el primer argumento es la variable que aparecerá en
las filas y el segundo la variable de las columnas. Por ese motivo, en
la tabla de contingencia absoluta tenemos el <em>sexo</em> en las filas y
a <em>trabaja</em> en las columnas.</p>
<p>Misma situación si necesitamos que la tabla sea relativa:</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo,datos<span class="sc">$</span>trabaja))</span></code></pre></div>
<pre><code>##    
##         FALSE      TRUE
##   F 0.1351351 0.2432432
##   M 0.2567568 0.3648649</code></pre>
<p>O bien porcentual redondeado:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">prop.table</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo,datos<span class="sc">$</span>trabaja)) <span class="sc">*</span> <span class="dv">100</span>,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##    
##     FALSE  TRUE
##   F 13.51 24.32
##   M 25.68 36.49</code></pre>
<p>Los porcentajes de la tabla anterior surgen de tomar como denominador la
sumatoria de todos los valores, en este caso las 74 observaciones.</p>
<p>Podemos modificar esto, indicando que denominador tomar. Este puede ser
el total fila o el total columna.</p>
<p>El denominador será el total fila si a la función <code>table()</code> le
incorporamos el argumento <code>margin=1</code></p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">prop.table</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo,datos<span class="sc">$</span>trabaja),</span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">margin =</span> <span class="dv">1</span>)<span class="sc">*</span><span class="dv">100</span>,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##    
##     FALSE  TRUE
##   F 35.71 64.29
##   M 41.30 58.70</code></pre>
<p>Al sumar por fila obtendremos el valor 100 por ciento.</p>
<p>Además aplicamos la función <code>round()</code> de redondeo para evitar que los
valores tengan muchos decimales (suele mostrarse con 5 decimales)</p>
<p>Si en cambio queremos que el denominador sea por columna, igualamos
<code>margin=2</code></p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">prop.table</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo,datos<span class="sc">$</span>trabaja),</span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">margin =</span> <span class="dv">2</span>)<span class="sc">*</span><span class="dv">100</span>,<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##    
##     FALSE  TRUE
##   F 34.48 40.00
##   M 65.52 60.00</code></pre>
<p>Al sumar por columna obtendremos el valor 100 por ciento.</p>
<p>En todos los casos, los resultados devueltos no tienen las sumatorias
marginales, ni de fila, ni de columna. Para que estas aparezcan debemos
agregar la función <code>addmargins()</code></p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo,datos<span class="sc">$</span>trabaja))</span></code></pre></div>
<pre><code>##      
##       FALSE TRUE Sum
##   F      10   18  28
##   M      19   27  46
##   Sum    29   45  74</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addmargins</span>(<span class="fu">prop.table</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo,datos<span class="sc">$</span>trabaja)))<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>##      
##           FALSE      TRUE       Sum
##   F    13.51351  24.32432  37.83784
##   M    25.67568  36.48649  62.16216
##   Sum  39.18919  60.81081 100.00000</code></pre>
<p><strong>Medidas resumen</strong></p>
<p>La instalación básica de R y sus paquetes asociados como stats trae
incorporadas muchas funciones estadísticas básicas, entre ellas podemos
señalar:</p>
<p><strong>Medidas de tendencia central</strong></p>
<p>Estas medidas son parte de las medidas de posición o localización, pero
tiene la intención de resumir la información en torno a un valor
central, respecto al cual parece agruparse de un modo más o menos
concentrado la distribución de los demás valores.</p>
<p>La media y la mediana estan cubiertas por R base:</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(datos<span class="sc">$</span>edad)     <span class="co"># media de la variable edad del dataframe datos</span></span></code></pre></div>
<pre><code>## [1] 48.06757</code></pre>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(datos<span class="sc">$</span>edad)  <span class="co"># mediana de la variable edad del dataframe datos</span></span></code></pre></div>
<pre><code>## [1] 52.5</code></pre>
<p>En cambio, no hay ninguna función base que calcule la moda. Tendremos
que escribir la ecuación de cálculo o bien buscar y activar algún
paquete extra de las numerosas librerías que tiene el lenguaje R que la
tenga implementada.</p>
<p><strong>Medidas de posición</strong></p>
<p>Los estadísticos de posición son valores de la variable caracterizados
por superar a cierto porcentaje de observaciones en la población o
muestra. Tenemos fundamentalmente a los percentiles, y asociados a ellos
veremos también los cuartiles y deciles muestrales.</p>
<p>Por ejemplo, con la función <code>quantile()</code>, del paquete stats, calculamos
los cuartiles Q1, Q2 que no es otra que la mediana y Q3.</p>
<p>Indicamos como argumento los valores 0.25, 0.50 y 0.75 respectivamente.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(datos<span class="sc">$</span>edad,<span class="fl">0.25</span>)  <span class="co"># Q1 (P25)</span></span></code></pre></div>
<pre><code>## 25% 
##  28</code></pre>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(datos<span class="sc">$</span>edad,<span class="fl">0.50</span>)  <span class="co"># Q2 (P50 o mediana)</span></span></code></pre></div>
<pre><code>##  50% 
## 52.5</code></pre>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(datos<span class="sc">$</span>edad,<span class="fl">0.75</span>)  <span class="co"># Q3 (P75)</span></span></code></pre></div>
<pre><code>## 75% 
##  64</code></pre>
<p>También podemos hacerlo con los 10 percentilos, así:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(datos<span class="sc">$</span>edad, <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="at">by=</span><span class="fl">0.1</span>))</span></code></pre></div>
<pre><code>##   0%  10%  20%  30%  40%  50%  60%  70%  80%  90% 100% 
## 13.0 19.0 24.6 34.9 46.0 52.5 56.0 61.2 65.2 73.1 86.0</code></pre>
<p>Otra función útil es <code>fivenum()</code> que se puede traducir como “cinco
números” nos muestra el mínimo, el máximo, la mediana y los cuartiles Q1
y Q3 como un conjunto de valores que son los necesarios para construir
los gráficos de boxplot desarrollados por Tukey en 1969.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fivenum</span>(datos<span class="sc">$</span>edad)</span></code></pre></div>
<pre><code>## [1] 13.0 28.0 52.5 64.0 86.0</code></pre>
<p>Si queremos solo visualizar el mínimo y máximo de este conjunto de
valores numéricos podemos hacerlo con:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(datos<span class="sc">$</span>edad)</span></code></pre></div>
<pre><code>## [1] 13</code></pre>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(datos<span class="sc">$</span>edad)</span></code></pre></div>
<pre><code>## [1] 86</code></pre>
<p><strong>Medidas de dispersión</strong></p>
<p>Cuando intentamos saber que tan dispersos están los valores o que tan
variables son los datos dentro de mi conjunto de datos, usamos
estadísticos de dispersión.</p>
<p>Los clásicos conocidos como la varianza - <code>var()</code> y el desvío estándar
– <code>sd()</code> se pueden aplicar directamente:</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(datos<span class="sc">$</span>edad)</span></code></pre></div>
<pre><code>## [1] 404.8036</code></pre>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(datos<span class="sc">$</span>edad)</span></code></pre></div>
<pre><code>## [1] 20.11973</code></pre>
<p>También se puede calcular el rango y el rango intercuartílico.</p>
<p>Para el primero debemos hacer la diferencia entre el rango del máximo y
mínimo:</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">diff</span>(<span class="fu">range</span>(datos<span class="sc">$</span>edad))</span></code></pre></div>
<pre><code>## [1] 73</code></pre>
<p><code>IQR()</code> devuelve el rango intercuartílico, es decir la diferencia entre
el tercer y el primer cuartil de una distribución.</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(<span class="fu">range</span>(datos<span class="sc">$</span>edad))</span></code></pre></div>
<pre><code>## [1] 36.5</code></pre>
<p>Otros estadísticos como el coeficiente de variación y el error estándar
de la media no están implementados directamente pero se pueden calcular
fácilmente.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(datos<span class="sc">$</span>edad)<span class="sc">/</span><span class="fu">mean</span>(datos<span class="sc">$</span>edad)<span class="sc">*</span><span class="dv">100</span></span></code></pre></div>
<pre><code>## [1] 41.85719</code></pre>
<p>El coeficiente de variación se utiliza cuando se desea hacer referencia
a la relación entre el tamaño de la media y la variabilidad de la
variable. Se mide de 0 a 100 y a mayor valor del coeficiente mayor
heterogeneidad de los valores de la variable; y a menor C.V., mayor
homogeneidad en los valores de la variable.</p>
<p>El error estándar de la media intenta cuantificar las oscilaciones de la
media muestral (media obtenida en los datos) alrededor de la media
poblacional (verdadero valor de la media). Si se asumen determinadas
características de normalidad para el conjunto de datos, este valor
puede ser usado para calcular intervalos de confianza aproximados para
la media.</p>
<p>Su fórmula es el desvío estándar sobre la raíz cuadrada de n y en R lo
podemos hacer así:</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">sd</span>(datos<span class="sc">$</span>edad)<span class="sc">/</span>(<span class="fu">sqrt</span>(<span class="fu">length</span>(datos<span class="sc">$</span>edad))),<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 2.34</code></pre>
<p><strong>Gráficos</strong></p>
<p>Uno de los mecanismos de exploración de datos más usuales y útiles
consiste en generar representaciones gráficas de las variables que
componen el conjunto de datos.</p>
<p>El lenguaje R cuenta en su paquete base con múltiples funciones para la
producción de gráficos de variado tipo. Por otra parte, existe una
enorme cantidad de paquetes específicos para producir gráficos
especiales y complejos lo que ubica a R como uno de los entornos más
potentes para creación de gráficas estadísticas.</p>
<p>Muchos de los gráficos básicos que es posible generar son resultado de
la función <code>plot()</code>. Esta función acepta un gran número de argumentos y
parámetros con los que es posible configurar el gráfico resultante.</p>
<p>En este capítulo mencionaremos las funciones más comunes sin entrar con
profundidad en aspectos estéticos ni utilizaremos paquetes externos al R
base.</p>
<p><strong>Gráficos de barras</strong></p>
<p>Una representación muy común es el que usa barras para representar los
valores. La dimensión de la barra es proporcional al valor a
representar, pudiendo utilizarse colores y tramas de relleno para
diferenciarlas.</p>
<p>La función <code>barplot()</code> es la que lleva a cabo esta tarea y lo hace con
variables categóricas procesadas en forma de tabla.</p>
<p>Tomemos de ejemplo la variable <code>sexo</code> del dataframe <code>datos</code> que
leímos anteriormente.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo))</span></code></pre></div>
<p><img src="Intro-a-R---paged-HTML_files/figure-html/unnamed-chunk-83-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Como se observa el gráfico se construye a partir de la generación de una
tabla de frecuencias de la variable dentro de la función <code>barplot()</code>. En
el eje x se ven las categorías de la variable <code>sexo</code>.</p>
<p><strong>Gráfico de sectores</strong></p>
<p>Los gráficos de sectores, también conocidos como de torta (pie en
inglés), se usan exclusivamente para representar la parte de un todo que
corresponde a distintas categorías de la variable. En este caso la
función de R se llama <code>pie()</code> y el argumento principal es la tabla de
frecuencia de la variable (<code>table()</code>).</p>
<p>Aplicado a la misma variable <code>sexo</code> que recién graficamos en forma de
barras:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="#cb252-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(<span class="fu">table</span>(datos<span class="sc">$</span>sexo))</span></code></pre></div>
<p><img src="Intro-a-R---paged-HTML_files/figure-html/unnamed-chunk-84-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><strong>Histogramas</strong></p>
<p>Cuando es necesario analizar la distribución de una variable
cuantitativa, una de las herramientas habituales es el histograma. Se
trata de un gráfico de barras con una configuración específica: el rango
de los valores a representar se divide en intervalos, el ancho de las
barras es proporcional a la amplitud de cada intervalo y su altura lo es
a la frecuencia del rango de valores representados (el número de casos
en que la variable toma algún valor en dicho intervalo).</p>
<p>La función de R para hacer este gráfico es <code>hist()</code>. Para probarlo lo
mostramos con la variable <code>edad</code> del dataframe <code>datos</code>.</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(datos<span class="sc">$</span>edad)</span></code></pre></div>
<p><img src="Intro-a-R---paged-HTML_files/figure-html/unnamed-chunk-85-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><strong>Boxplot</strong></p>
<p>Dado un conjunto de observaciones de una variable cuantitativa, un
boxplot (también llamado diagrama de caja) muestra el valor más bajo y
el más alto de la distribución (salvo atípicos) con unos pequeños
segmentos horizontales (llamados bigotes). Además, contiene en su
interior una caja que comienza con el primer cuartil (punto más bajo) y
termina con el tercero (punto más alto de la caja). Es decir, que dentro
de la caja está el denominado recorrido intercuartílico de la
distribución. Por su parte, dentro de la caja figura con un trazo más
grueso el segundo cuartil o mediana de la distribución. Finalmente, los
valores atípicos se representan por puntos (vacíos) que se hallan más
allá de los pequeños segmentos horizontales que describíamos al
principio.</p>
<p>La función en R se llama <code>boxplot()</code> y por supuesto, se aplica a
variables cuantitativas.</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(datos<span class="sc">$</span>edad)</span></code></pre></div>
<p><img src="Intro-a-R---paged-HTML_files/figure-html/unnamed-chunk-86-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p><strong>Gráficos de puntos</strong></p>
<p>Este tipo de representación, conocida habitualmente como nube de puntos,
dibuja un punto por cada observación existente en el conjunto de datos.
La posición de cada punto en el plano dependerá de los valores que tomen
para el dato correspondiente las variables representadas, una para el
eje X y otra para el eje Y.</p>
<p>Usamos la función <code>plot()</code> para este tipo de gráficos, aunque <code>plot()</code>
permite hacer también de otros tipos como línea, densidad, etc.</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(datos<span class="sc">$</span>talla,datos<span class="sc">$</span>peso)</span></code></pre></div>
<p><img src="Intro-a-R---paged-HTML_files/figure-html/unnamed-chunk-87-1.png" width="70%" style="display: block; margin: auto;" /></p>
<p>Otro uso particular de la función <code>plot()</code> esta relacionado con las
salidas de estadísticas complejas. Veremos en módulos más avanzados del
curso, que resultados de regresiones almacenados en objetos pueden ser
utilizados para graficar mediante esta función (por ejemplo: gráficos de
residuos).</p>
<p><strong>Argumentos generales en gráficos</strong></p>
<p>Mencionaremos aquí algunos argumentos comunes que podemos llegar a
encontrar en las expresiones asociadas a gráficos.</p>
<p><strong>xlab ylab</strong> etiquetas de los ejes x e y</p>
<p><strong>xlim ylim</strong> límites de los ejes x e y</p>
<p><strong>main</strong> titulo principal del gráfico</p>
<p><strong>sub</strong> subtitulo del gráfico</p>
<p><strong>col</strong> color</p>
<p><strong><em>argumento type de plot()</em></strong></p>
<p><strong>type= “p”</strong> puntos</p>
<p><strong>type= “l”</strong> líneas</p>
<p><strong>type= “b”</strong> ambos (líneas y puntos)</p>
<p><strong>type= “s”</strong> escalones</p>
<p><strong>type= “h”</strong> barras verticales</p>
<p><strong>type = “n”</strong> nada</p>
</div>
<div id="consideraciones-finales" class="section level1">
<h1>Consideraciones finales</h1>
<p>Estos materiales, que forman parte del modulo 1 del Curso de
Epidemiología Avanzada, no pretenden abarcar todos los temas relevantes
que encontraríamos en un curso de lenguaje R, sino que persigue el fin
de mostrar algunos elementos necesarios del lenguaje para su aplicación
en los módulos siguientes.</p>
<p>En este capítulo mencionaremos algunas consideraciones generales
relacionadas con el uso del lenguaje en las funciones base y de paquetes
adicionales construidas para llevar adelante contrastes de hipótesis y
regresiones.</p>
<p>Como decíamos al comienzo del módulo, todas las funciones con las que
trabajemos tienen argumentos y el interprete de R no permite errores en
la sintaxis de las expresiones, por lo que enunciaremos elementos a
tener en cuenta a la hora de escribirlas:</p>
<ul>
<li>Los argumentos o parametros de una función siempre van entre
paréntesis y separados unos de otros por comas.</li>
</ul>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="fu">funcion</span>(arg1, arg2, arg3,...)</span></code></pre></div>
<ul>
<li>Los títulos de los argumentos pueden escribirse y mediante un igual
agregar el valor correspondiente. También se puede omitir el título
del argumento y escribir directamente el valor, pero en este caso,
hay que respetar el orden definido por la función.</li>
</ul>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="fu">funcion</span>(<span class="at">arg1=</span><span class="dv">32</span>, <span class="at">arg2=</span><span class="dv">5</span>, <span class="at">arg3=</span><span class="dv">65</span>,...)</span></code></pre></div>
<p>es igual a hacer:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">funcion</span>(<span class="dv">32</span>, <span class="dv">5</span>, <span class="dv">65</span>,...)</span></code></pre></div>
<p>siempre que se respete el mismo orden.</p>
<ul>
<li>Con los argumentos se deben cumplir las mismas reglas que en todo el
lenguaje. Los valores númericos, lógicos, especiales y objetos van
escritos en forma directa y cuando escribimos caracteres (texto) van
necesariamente encerrados entre comillas.</li>
</ul>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="fu">funcion</span>(<span class="at">arg1=</span><span class="dv">3</span>, <span class="at">arg2=</span><span class="cn">NA</span>, <span class="at">arg3=</span><span class="cn">TRUE</span>, <span class="at">arg4=</span><span class="st">&quot;less&quot;</span>, <span class="at">arg5=</span>x,...)</span></code></pre></div>
<p>Rstudio utiliza un sistema de colores para ayudar a diferenciar los
tipos de valores, donde azul oscuro son números, celeste palabras
reservadas como valores especiales y lógicos, verde para caracteres y
negro para objetos.</p>
<p>Los valores lógicos TRUE y FALSE se pueden escribir en forma reducida
como T y F.</p>
<ul>
<li><p>Muchas funciones tienen valores predefinidos en alguno de sus
argumentos. Por ejemplo, el argumento <code>conf.level</code> que define el
nivel de confianza para los intervalos se encuentra en muchas
funciones y en todos los casos funciona igual. El valor
predeterminado es 0.95, es decir el 95% de confianza. Si se omite el
argumento se aplica ese valor por defecto, de lo contrario es válido
el valor que se haya definido expresamente dentro de la función.</p></li>
<li><p>El lenguaje nos ofrece un sistema de ayuda permanente. En Rstudio
encontramos su panel en el sector abajo a la izquierda de la
pantalla (en la pestaña Help). También podemos pedir ayuda
específica mediante la consola. La función <code>help</code> o el símbolo <code>?</code>
delante del nombre de la función nos muestra la hoja de ayuda propia
de la función requerida. La ayuda presenta siempre la sintaxis en el
subtitulo <strong>Usage</strong> y los argumentos en <strong>Arguments</strong></p></li>
<li><p>La ayuda también nos posibilita conocer cual es el formato requerido
para los valores o elementos de entrada de una función. Cuando a los
argumentos se le asignan objetos que contienen datos, normalmente
variables de un dataframe, columnas de matrices, matrices o tablas
enteras o vectores, éstos requieren tener un formato específico.
Generalmente el tipo de dato que trae inconvenientes es el de
caracter para variables categóricas, dado que la mayoría de las
funciones exigen que se presente como <code>factor</code>. Esto significa que
habrá que convertir la variable indicada a formato factor previo a
su uso dentro de la función.</p></li>
<li><p>Las funciones que ejecutan análisis complejos como las regresiones
por ejemplo, generan salidas en forma de lista. Conviene siempre
asignar esta salida a un objeto porque luego se pueden reutilizar en
otras funciones como por ejemplo en análisis de residuos.</p></li>
<li><p>Finalmente, en el siguiente capítulo describimos a las fórmulas como
forma de trabajar con los datos en la construcción de modelos.</p></li>
</ul>
</div>
<div id="fórmulas" class="section level1">
<h1>Fórmulas</h1>
<p>En R las formulas son utilizadas generalmente para describir modelos.
Estas formulas se escriben con operadores como <strong>~</strong> , <strong>+</strong> , <strong>*</strong>,
etc. y se emplean dentro de funciones específicas como regresiones,
anovas y contrastes de hipótesis, además de algunos gráficos.</p>
<p><strong>Formula genérica:</strong></p>
<p>Aquí la formula está dada por el operador “~”; a la izquierda está la
variable de respuesta o dependiente, a la derecha la o las variables
explicativas o independientes. El esquema general es el siguiente:</p>
<blockquote>
<p><strong>variable depedendiente o de respuesta ~ variables independientes o
explicativas</strong></p>
</blockquote>
<p>El símbolo “<code>~</code>” (virgulilla) debería leerse como <em>“es modelado por”</em> o
<em>“es modelado como una función de”</em>.</p>
<p>Por ejemplo en una gresión simple se utiliza la función base <code>lm()</code> y el
argumento principal de esta función es una formula:</p>
<blockquote>
<p>regresion_simple &lt;- lm(variable.de.respuesta ~
variables.explicativas, data=DataFrame)</p>
</blockquote>
<p>además de la formula hay un argumento llamado <code>data</code> que es
imprescindible para indicarle a R de donde debe sacar los datos para
realizar la regresión.</p>
<p>La siguiente tabla muestra los usos de los los operadores más comunes
dentro de una formula:</p>
<table>
<thead>
<tr class="header">
<th align="center"><strong>Operador</strong></th>
<th align="center"><strong>Ejemplo</strong></th>
<th align="center"><strong>Interpretación</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">+</td>
<td align="center">+ x</td>
<td align="center">Incluye la variable x</td>
</tr>
<tr class="even">
<td align="center">-</td>
<td align="center">- x</td>
<td align="center">Excluye la variable x</td>
</tr>
<tr class="odd">
<td align="center">:</td>
<td align="center">x : z</td>
<td align="center">Incluye la interacción de la variable x con z</td>
</tr>
<tr class="even">
<td align="center">*</td>
<td align="center">x * z</td>
<td align="center">Incluye ambas variables y la interacción entre ellas</td>
</tr>
<tr class="odd">
<td align="center">/</td>
<td align="center">x / z</td>
<td align="center">Anidamiento: incluye a z anidado en x</td>
</tr>
<tr class="even">
<td align="center">|</td>
<td align="center">x | z</td>
<td align="center">Condicional: incluye a x dado z</td>
</tr>
</tbody>
</table>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p><a href="https://en.wikipedia.org/wiki/Ross_Ihaka" class="uri">https://en.wikipedia.org/wiki/Ross_Ihaka</a><a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p><a href="https://en.wikipedia.org/wiki/Robert_Gentleman_(statistician)" class="uri">https://en.wikipedia.org/wiki/Robert_Gentleman_(statistician)</a><a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p><a href="https://en.wikipedia.org/wiki/R_(programming_language)" class="uri">https://en.wikipedia.org/wiki/R_(programming_language)</a><a href="#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
</div>



<script>
// when the page is about to reload via servr, remember the scroll position
document.addEventListener('servr:reload', function(e) {
  sessionStorage.setItem('pagedown-scroll', window.scrollY);
});
</script>
</body>
</html>
